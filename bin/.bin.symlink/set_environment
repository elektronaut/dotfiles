#!/usr/bin/env ruby

require 'pathname'

env_file = Pathname.new(ENV['HOME']).join('.environment')

if ARGV.length > 0
  new_env = ARGV.first
  File.open(env_file, 'w'){|fh| fh.write new_env }
else
  puts "Usage: #{File.basename($0)} [environment]\n\n"
end

if File.exists?(env_file)
  puts "Current environment is: #{File.read(env_file)}"
else
  puts "Environment has not been set"
end
